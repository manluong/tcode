/**
  * Name: Titan Menu
  * Date: May 2011
  * Autor: CreativeMilk
  * Version: 1.2
  * Lib: 1.6.1
  * Licence: NOT free
  * This is an CodeCanyon item
  * http://codecanyon.net/item/titan-menu-a-fresh-and-powerfull-dropdown-menu/258696?ref=CreativeMilk
  **/
(function(jQuery){jQuery.fn.titanMenu=function(opt){var defaults={effect:'fade',speed:200,style:'black',layout:'button',distance:0,opacity:1.0,float:'right',icons:'yes',zindex:100};var opt=jQuery.extend(defaults,opt);return this.each(function(){if(opt.layout=='button'){var tmLayout='tmbutton';}else if(opt.layout=='bar'){var tmLayout='tmbar';}else if(opt.layout=='stack'){var tmLayout='tmstack';}
jQuery(this).parent('appnav').addClass(tmLayout);var obj=jQuery(this);var items=jQuery("> li",obj);var itemsNoSplit=jQuery("> li",obj);var itemsSplit=jQuery("> li.split > div",obj);var itemsSub=jQuery('li li',obj);var itemsSubdown=jQuery('li.tmgodown > a',obj);var firstItem=jQuery('> li > div > ul, > li > ul',obj);var ulItem=jQuery('ul',obj);var distanceBox=opt.distance+obj.height();var ulBox=obj.width()+3;var heightBrigde=distanceBox;var spaceBrigde=distanceBox;var zIndex=opt.zindex-1;if(opt.effect=='fade'){var effectIn='fadeIn';var effectOut='fadeOut';var speed=opt.speed;}else if(opt.effect=='slide'){var effectIn='slideDown';var effectOut='slideUp';var speed=opt.speed;}else if(opt.effect=='none'){var effectIn='show';var effectOut='hide';var speed=0;}
if(opt.layout!='stack'){firstItem.css({top:distanceBox+'px'});}
obj.addClass('tm-'+opt.style);obj.find('div').css({opacity:opt.opacity});if((opt.float=='left')&&(opt.layout!='stack')){items.hover(function(){var posBox=jQuery(this).width()-29;$(this).children('div').children('ul').css({left:'-'+posBox+'px'});});}else if((opt.float=='right')&&(opt.layout!='stack')){$('> li > div > ul',this).css({right:'-133px'});}else if(opt.layout=='stack'){$('> li > div > ul',this).css({right:'-'+ulBox+'px',top:'-1px'});}
obj.css({zIndex:zIndex});ulItem.css({zIndex:opt.zindex});if(opt.icons=='no'){itemsSub.children('a').css({width:'150px',border:'none'});}
itemsNoSplit.hover(function(){if(!jQuery(this).hasClass('split')){jQuery(this).children('div').children('ul:first').stop(true,true)[effectIn](speed);}},function(){jQuery(this).children('div').children('ul:first').stop(true,true)[effectOut](speed);});itemsSplit.hover(function(){jQuery(this).children('ul:first').stop(true,true)[effectIn](speed);},function(){jQuery(this).children('ul:first').stop(true,true)[effectOut](speed);});itemsSub.hover(function(){if(!$(this).hasClass('tmgodown')){jQuery(this).children('ul').stop(true,true)[effectIn](speed);}},function(){if(!$(this).hasClass('tmgodown')){jQuery(this).children('ul').stop(true,true)[effectOut](speed).hide(400);}});if(opt.layout!='stack'){items.hover(function(){if(opt.float=='left'){var widthLi=jQuery(this).width();}else{var widthLi=28;}
jQuery(this).children('div').prepend('<div class="tmbridge" style="width:'+widthLi+'px;height:'+heightBrigde+'px;bottom:-'+spaceBrigde+'px"/>');},function(){jQuery(this).find('.tmbridge').remove();});}
itemsSubdown.toggle(function(){jQuery(this).parent('li').children('ul:first').stop(true,true).slideDown(speed);jQuery(this).children('span').children().remove();return false;},function(){jQuery(this).parent('li').children('ul:first').stop(true,true).slideUp(speed);jQuery(this).children('span').prepend('<span/>');return false;});});}})(jQuery);